
class Proxy(SimpleHTTPServer.SimpleHTTPRequestHandler):

    def do_GET(self):
        self.copyfile(urllib2.urlopen(self.path), self.wfile)

def httproxy():
    __description__ = "Starts a basic HTTP proxy on the target system."
    __author__ = "ohdae : bindshell[at]live[dot]com"
    __short__ = "http proxy"
    httpd = SocketServer.ForkingTCPServer(('', PPORT), Proxy)
    print("[+] Serving HTTP proxy on port %s" % PPORT)
    httpd.serve_forever()
